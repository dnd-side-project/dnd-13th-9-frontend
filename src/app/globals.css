@import 'tailwindcss';
@import 'swiper/css';

@font-face {
  font-family: 'Pretendard';
  src: url('/font/PretendardVariable.woff2') format('woff2-variations');
  font-weight: 100 900;
  font-display: swap;
}

@font-face {
  font-family: 'Poppins';
  src: url('/font/PoppinsSemiBold.woff2') format('woff2');
  font-weight: 600;
  font-display: swap;
}

@theme {
  --font-family-pretendard: 'Pretendard', sans-serif;
  --font-family-poppins: 'Poppins', sans-serif;

  --color-primary-50: #669aff;
  --color-primary-55: #4b8bff;
  --color-secondary-50: #fba907;
  --color-secondary-10: #fff3d9;
  --color-static-black: #000000;
  --color-static-white: #ffffff;
  --color-status-red: #ff6648;
  --color-neutral-20: #f7f7f7;
  --color-neutral-30: #f4f4f4;
  --color-neutral-40: #e9e9ec;
  --color-neutral-50: #d3d3d3;
  --color-neutral-60: #ababab;
  --color-neutral-70: #818181;
  --color-neutral-80: #707070;
  --color-neutral-90: #555555;
  --color-neutral-100: #333333;
  --color-neutral-110: #111111;
  --color-neutral-120: #010101;
  --color-coolGray-20: #f0f5fb;
  --color-coolGray-50: #a3abbe;
  --color-coolGray-80: #3e3f48;
}

@layer base {
  :root {
    --font-pretendard: 'Pretendard', sans-serif;
    --font-poppins: 'Poppins', sans-serif;
  }
}

@layer utilities {
  .font-pretendard {
    font-family: var(--font-pretendard);
  }

  .font-poppins {
    font-family: var(--font-poppins);
  }

  /* Hide scrollbar but enable scrolling */
  .scrollbar-hidden {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
  .scrollbar-hidden::-webkit-scrollbar {
    display: none; /* Chrome, Safari */
  }

  /* KakaoMap: prevent oversized internal SVG overlays from intercepting/poking out */
  .kakao-map-root svg {
    pointer-events: none;
  }
  .kakao-map-root {
    overflow: hidden;
  }

  /* Dropdown reveal animation utilities */
  .reveal-panel {
    will-change: transform, opacity, clip-path;
    transform-origin: top center;
    transition:
      transform 200ms ease,
      opacity 200ms ease,
      clip-path 220ms ease;
  }
  .reveal-panel-closed {
    opacity: 0;
    transform: translateY(-6px);
    clip-path: inset(0 0 100% 0);
    pointer-events: none;
  }
  .reveal-panel-open {
    opacity: 1;
    transform: translateY(0);
    clip-path: inset(0 0 0 0);
  }

  .icon-rotate {
    transition: transform 200ms ease;
  }
  .icon-rotate-open {
    transform: rotate(180deg);
  }
}

/* 메인 페이지 애니메이션 */
@layer utilities {
  /* 매물 지도 */
  @keyframes float-slow {
    0% {
      transform: translateY(0) rotate(0deg);
    }
    50% {
      transform: translateY(-8px) rotate(-0.5deg);
    }
    100% {
      transform: translateY(0) rotate(0deg);
    }
  }

  .animate-float-slow {
    animation: float-slow 5s ease-in-out infinite;
  }

  /* 체크리스트 */
  @keyframes tilt-swing {
    0% {
      transform: rotate(40deg);
    }
    50% {
      transform: rotate(10deg);
    }
    100% {
      transform: rotate(40deg);
    }
  }

  .animate-tilt-swing {
    animation: tilt-swing 5s ease-in-out infinite;
    transform-origin: center;
  }

  /* 매물 비교 투표 - 번개 지지직 느낌의 좌우 잔진동 */
  @keyframes electric-jitter {
    0%,
    100% {
      transform: translateX(0) skewX(0deg);
      filter: brightness(1);
    }
    8% {
      transform: translateX(-1px) skewX(-0.4deg);
      filter: brightness(1.05);
    }
    10% {
      transform: translateX(1px) skewX(0.4deg);
      filter: brightness(0.95);
    }
    12% {
      transform: translateX(0) skewX(0deg);
      filter: brightness(1);
    }
    20% {
      transform: translateX(0) skewX(0deg);
    }
    28% {
      transform: translateX(1px) skewX(0.3deg);
    }
    30% {
      transform: translateX(-1px) skewX(-0.3deg);
    }
    32% {
      transform: translateX(0) skewX(0deg);
    }
    60% {
      transform: translateX(0) skewX(0deg);
      filter: brightness(1);
    }
    62% {
      transform: translateX(-1px) skewX(-0.4deg);
      filter: brightness(1.06);
    }
    64% {
      transform: translateX(1px) skewX(0.4deg);
      filter: brightness(0.94);
    }
    66% {
      transform: translateX(0) skewX(0deg);
      filter: brightness(1);
    }
  }

  .animate-electric-jitter {
    animation: electric-jitter 3s ease-in-out infinite;
    will-change: transform, filter;
  }

  /* 에티켓 인터렉션 */
  @keyframes slide-up-in {
    0% {
      transform: translateY(12px);
      opacity: 0;
    }
    100% {
      transform: translateY(0);
      opacity: 1;
    }
  }

  .animate-slide-up-in {
    animation: slide-up-in 300ms ease-out both;
  }

  @keyframes slide-up-out {
    0% {
      transform: translateY(0);
      opacity: 1;
    }
    100% {
      transform: translateY(-12px);
      opacity: 0;
    }
  }

  .animate-slide-up-out {
    animation: slide-up-out 300ms ease-in both;
  }

  /* 강조 애니메이션 (한 번만) - 손가락 아이콘 등 */
  @keyframes finger-emphasize {
    0% {
      transform: translateY(0) scale(1) rotate(0deg);
      opacity: 0.9;
    }
    35% {
      transform: translateY(-2px) scale(1.08) rotate(-6deg);
      opacity: 1;
    }
    65% {
      transform: translateY(0) scale(1.02) rotate(0deg);
    }
    100% {
      transform: translateY(0) scale(1) rotate(0deg);
    }
  }

  .animate-finger-emphasize {
    transform-origin: bottom center;
    animation: finger-emphasize 600ms ease-out both;
  }

  /* 로그인: 조명 펜듈럼 흔들림 (감쇠로 더 자연스럽게) */
  @keyframes light-sway {
    0% {
      transform: rotate(0deg);
    }
    15% {
      transform: rotate(7deg);
    }
    35% {
      transform: rotate(-5deg);
    }
    55% {
      transform: rotate(3deg);
    }
    75% {
      transform: rotate(-1deg);
    }
    100% {
      transform: rotate(0deg);
    }
  }
  .animate-light-sway {
    animation: light-sway 3.8s ease-in-out infinite;
    transform-origin: top center;
  }

  /* 로그인: 식물 살랑 흔들림 (줄기 기준) */
  @keyframes plant-sway {
    0% {
      transform: rotate(0deg) translateY(0);
    }
    50% {
      transform: rotate(-4deg) translateY(0);
    }
    100% {
      transform: rotate(0deg) translateY(0);
    }
  }
  .animate-plant-sway {
    animation: plant-sway 3.8s ease-in-out infinite;
    transform-origin: bottom center;
  }

  /* 로그인: 돋보기 단순/부드러운 확대 관찰 (미세 회전 + 스케일) */
  @keyframes search-inspect {
    0% {
      transform: translate(0, 0) rotate(4deg) scale(1);
    }
    25% {
      transform: translate(5px, -3px) rotate(4.8deg) scale(1.03);
    }
    50% {
      transform: translate(0, 0) rotate(5.2deg) scale(1.06);
    }
    75% {
      transform: translate(-5px, 3px) rotate(4.6deg) scale(1.03);
    }
    100% {
      transform: translate(0, 0) rotate(4deg) scale(1);
    }
  }
  .animate-search-inspect {
    animation: search-inspect 4.2s ease-in-out infinite;
    will-change: transform;
    transform-origin: center;
  }
}

@media (prefers-reduced-motion: reduce) {
  .animate-float-slow,
  .animate-tilt-swing,
  .animate-electric-jitter {
    animation: none !important;
  }

  /* 선택: 과도한 트랜지션도 최소화 */
  .transition-all,
  .transition {
    transition: none !important;
  }

  .animate-finger-emphasize {
    animation: none !important;
  }

  .animate-light-sway,
  .animate-plant-sway {
    animation: none !important;

    @keyframes selectAnimation {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.3);
      }
      100% {
        transform: scale(1);
      }
    }

    .animate-select {
      animation: selectAnimation 0.6s ease-in-out;
      /* 에티켓 인터렉션 */
      @keyframes slide-up-in {
        0% {
          transform: translateY(12px);
          opacity: 0;
        }
        100% {
          transform: translateY(0);
          opacity: 1;
        }
      }

      .animate-slide-up-in {
        animation: slide-up-in 300ms ease-out both;
      }

      @keyframes slide-up-out {
        0% {
          transform: translateY(0);
          opacity: 1;
        }
        100% {
          transform: translateY(-12px);
          opacity: 0;
        }
      }

      .animate-slide-up-out {
        animation: slide-up-out 300ms ease-in both;
      }

      /* 강조 애니메이션 (한 번만) - 손가락 아이콘 등 */
      @keyframes finger-emphasize {
        0% {
          transform: translateY(0) scale(1) rotate(0deg);
          opacity: 0.9;
        }
        35% {
          transform: translateY(-2px) scale(1.08) rotate(-6deg);
          opacity: 1;
        }
        65% {
          transform: translateY(0) scale(1.02) rotate(0deg);
        }
        100% {
          transform: translateY(0) scale(1) rotate(0deg);
        }
      }

      .animate-finger-emphasize {
        transform-origin: bottom center;
        animation: finger-emphasize 600ms ease-out both;
      }

      /* 로그인: 조명 펜듈럼 흔들림 (감쇠로 더 자연스럽게) */
      @keyframes light-sway {
        0% {
          transform: rotate(0deg);
        }
        15% {
          transform: rotate(7deg);
        }
        35% {
          transform: rotate(-5deg);
        }
        55% {
          transform: rotate(3deg);
        }
        75% {
          transform: rotate(-1deg);
        }
        100% {
          transform: rotate(0deg);
        }
      }
      .animate-light-sway {
        animation: light-sway 3.8s ease-in-out infinite;
        transform-origin: top center;
      }

      /* 로그인: 식물 살랑 흔들림 (줄기 기준) */
      @keyframes plant-sway {
        0% {
          transform: rotate(0deg) translateY(0);
        }
        50% {
          transform: rotate(-4deg) translateY(0);
        }
        100% {
          transform: rotate(0deg) translateY(0);
        }
      }
      .animate-plant-sway {
        animation: plant-sway 3.8s ease-in-out infinite;
        transform-origin: bottom center;
      }

      /* 로그인: 돋보기 단순/부드러운 확대 관찰 (미세 회전 + 스케일) */
      @keyframes search-inspect {
        0% {
          transform: translate(0, 0) rotate(4deg) scale(1);
        }
        25% {
          transform: translate(5px, -3px) rotate(4.8deg) scale(1.03);
        }
        50% {
          transform: translate(0, 0) rotate(5.2deg) scale(1.06);
        }
        75% {
          transform: translate(-5px, 3px) rotate(4.6deg) scale(1.03);
        }
        100% {
          transform: translate(0, 0) rotate(4deg) scale(1);
        }
      }
      .animate-search-inspect {
        animation: search-inspect 4.2s ease-in-out infinite;
        will-change: transform;
        transform-origin: center;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      .animate-float-slow,
      .animate-tilt-swing,
      .animate-electric-jitter {
        animation: none !important;
      }

      /* 선택: 과도한 트랜지션도 최소화 */
      .transition-all,
      .transition {
        transition: none !important;
      }

      .animate-finger-emphasize {
        animation: none !important;
      }

      .animate-light-sway,
      .animate-plant-sway {
        animation: none !important;
      }
    }
  }
}
